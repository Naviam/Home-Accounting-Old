jQuery.postErr=function(f,a,c,b){if($.isFunction(a)){b=b||c;c=a;a=null}if(a==null)a={};if(typeof pageContext!="undefined"&&pageContext!=null)if(b=="json"&&typeof a==="string"){var e=',"pageContext":'+JSON.stringify(pageContext)+"}";a=a.substr(0,a.length-1)+e}else a.pageContext=pageContext;var d=b=="json"?"application/json; charset=utf-8":"application/x-www-form-urlencoded";$.ajax({type:"POST",url:f,data:a,complete:function(){},success:c,contentType:d,dataType:b,error:function(a){parseSiteError(a)}})};$("input.enterastab, select.enterastab, textarea.enterastab").live("keydown",function(b){if(b.keyCode==13){var a=$("input,select,button,textarea").filter(":visible");$(this).trigger("change");a.eq(a.index(this)+1).focus();return false}});function askToUser(b,a){confirm(b)&&a()}function parseSiteError(a){if(a.status==500){var b=JSON.parse(a.responseText);showSiteError(b.Text)}else showSiteError(a.responseText)}function showSiteError(a){alert(a)}function debug(a){console.log(a)}function addCommas(a){a+="";x=a.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var b=/(\d+)(\d{3})/;while(b.test(x1))x1=x1.replace(b,"$1,$2");return x1+x2}$.format=function(b,a){if(arguments.length==1)return function(){var a=$.makeArray(arguments);a.unshift(b);return $.format.apply(this,a)};if(arguments.length>2&&a.constructor!=Array)a=$.makeArray(arguments).slice(1);if(a.constructor!=Array)a=[a];$.each(a,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)});return b};var dateFormat=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,a=function(a,b){a=String(a);b=b||2;while(a.length<b)a="0"+a;return a};return function(c,d,h){var j=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(c)=="[object String]"&&!/\d/.test(c)){d=c;c=undefined}c=c?new Date(c):new Date;if(isNaN(c))throw SyntaxError("invalid date");d=String(j.masks[d]||d||j.masks["default"]);if(d.slice(0,4)=="UTC:"){d=d.slice(4);h=true}var f=h?"getUTC":"get",k=c[f+"Date"](),p=c[f+"Day"](),l=c[f+"Month"](),o=c[f+"FullYear"](),e=c[f+"Hours"](),m=c[f+"Minutes"](),n=c[f+"Seconds"](),g=c[f+"Milliseconds"](),q=h?0:c.getTimezoneOffset(),i={d:k,dd:a(k),m:l+1,mm:a(l+1),yy:String(o).slice(2),yyyy:o,h:e%12||12,hh:a(e%12||12),H:e,HH:a(e),M:m,MM:a(m),s:n,ss:a(n),l:a(g,3),L:a(g>99?Math.round(g/10):g),t:e<12?"a":"p",tt:e<12?"am":"pm",T:e<12?"A":"P",TT:e<12?"AM":"PM"};return d.replace(b,function(a){return a in i?i[a]:a.slice(1,a.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",enDateTime:"mm/dd/yyyy h:MM:ss TT",ruDateTime:"dd.mm.yyyy HH:MM:ss",enDate:"mm/dd/yyyy",ruDate:"dd.mm.yyyy"};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};var inputCssError="input-validation-error",lang=Naviam.JavaScript;lang.firstDay=0;if(lang.culture=="ru"){dateFormat.masks["default"]=dateFormat.masks.ruDate;lang.firstDay=1}if(lang.culture=="en")dateFormat.masks["default"]=dateFormat.masks.enDate